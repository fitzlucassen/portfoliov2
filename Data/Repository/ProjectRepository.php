<?php 
	/**********************************************************
	 **** File generated by fitzlucassen\DALGenerator tool ****
	 * All right reserved to fitzlucassen repository on github*
	 ************* https://github.com/fitzlucassen ************
	 **********************************************************/
	class ProjectRepository {
		private $_pdo;
		private $_lang;
		private $_pdoHelper;

		public function __construct($pdo, $lang){
			$this->_pdoHelper = $pdo;
			$this->_pdo = $pdo->GetConnection();
			$this->_lang = $lang;
		}

		/**************************
		 * REPOSITORIES FUNCTIONS *
		 **************************/
		public function getAll(){
			$query = "SELECT * FROM project";
			try {
				return $this->_pdoHelper->SelectTable($query);
			}
			catch(PDOException $e){
				print $e->getMessage();
			}
			return array();
		}

		public function getById($id){
			$query = "SELECT * FROM project WHERE id=" . $id;
			try {
				$properties = $this->_pdoHelper->Select($query);
				$object = new Project();
				$object->fillObject($properties);
				return $object;
			}
			catch(PDOException $e){
				print $e->getMessage();
			}
			return array();
		}

		public function delete($id) {
			$query = "DELETE FROM project WHERE id=" . $id;
			try {
				return $this->_pdoHelper->Query($query);
			}
			catch(PDOException $e){
				print $e->getMessage();
			}
			return array();
		}

		public function add($properties) {
			$query = "INSERT INTO project('id', 'title', 'description', 'link', 'image', 'dCrea')
				VALUES(" . $properties["id"] . ", '" . $properties["title"] . "', '" . $properties["description"] . "', '" . $properties["link"] . "', '" . $properties["image"] . "', '" . $properties["dCrea"] . "')";
			try {
				return $this->_pdoHelper->Query($query);
			}
			catch(PDOException $e){
				print $e->getMessage();
			}
			return array();
		}

		public function update($id, $properties) {
			$query = "UPDATE project 
				SET id = " . $properties["id"] . ", title = '" . $properties["title"] . "', description = '" . $properties["description"] . "', link = '" . $properties["link"] . "', image = '" . $properties["image"] . "', dCrea = '" . $properties["dCrea"] . "'
				WHERE id=" . $id;
			try {
				return $this->_pdoHelper->Query($query);
			}
			catch(PDOException $e){
				print $e->getMessage();
			}
			return array();
		}
		/*******
		 * END *
		 *******/

	}
?>